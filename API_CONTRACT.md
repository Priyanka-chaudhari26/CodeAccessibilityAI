# API Contract

This document defines the API contract between the React frontend and the Node.js backend, with a focus on the interaction with the Google Gemini Pro LLM.

## Endpoints

### 1. `POST /api/explain`

*   **Description:** Receives a code snippet and returns a spoken explanation generated by Gemini.
*   **Request Body:**
    ```json
    {
      "code": "const x = 1;"
    }
    ```
*   **Backend to Gemini Prompt:**
    ```
    "You are an expert programmer explaining code to a visually impaired developer. Explain the following code snippet in a clear, concise, and accessible way:

    ```
    const x = 1;
    ```"
    ```
*   **Response Body:**
    ```json
    {
      "explanation": "This is a constant variable named x with a value of 1."
    }
    ```

### 2. `POST /api/refactor`

*   **Description:** Receives a code snippet and a voice command, and returns the refactored code generated by Gemini.
*   **Request Body:**
    ```json
    {
      "code": "function myFunc() { console.log('hello'); }",
      "command": "rename function to 'sayHello'"
    }
    ```
*   **Backend to Gemini Prompt:**
    ```
    "You are an expert programmer. A user has given the following voice command: 'rename function to 'sayHello''. Apply this command to the following code:

    ```
    function myFunc() { console.log('hello'); }
    ```

    Only return the refactored code."
    ```
*   **Response Body:**
    ```json
    {
      "refactoredCode": "function sayHello() { console.log('hello'); }"
    }
    ```

### 3. `POST /api/generate`

*   **Description:** Receives a voice command and returns generated code from Gemini.
*   **Request Body:**
    ```json
    {
      "command": "create a react component named 'Button'"
    }
    ```
*   **Backend to Gemini Prompt:**
    ```
    "You are an expert programmer. A user has given the following voice command: 'create a react component named 'Button''. Generate the code for this component. Only return the generated code."
    ```
*   **Response Body:**
    ```json
    {
      "generatedCode": "import React from 'react';\n\nconst Button = () => {\n  return <button>Click me</button>;\n};"
    }
    ```

